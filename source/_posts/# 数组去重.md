---
title: 数组去重
date: 2022-5-10
---

# 数组去重

```javascript
//设置数组为如下
let arr = [
  1,
  1,
  "true",
  "true",
  true,
  true,
  15,
  15,
  false,
  false,
  undefined,
  undefined,
  null,
  null,
  NaN,
  NaN,
  "NaN",
  0,
  0,
  "a",
  "a",
  {},
  {},
];
```

- 第一种方式：for 循环去重

```javascript
function unique(item) {
  for (let i = 0; i < item.length; i++) {
    for (let j = i + 1; j < item.length; j++) {
      if (item[i] === item[j]) {
        item.splice(j, 1);
        j--;
      }
    }
  }
  return item;
}
console.log("这是两重for循环的去重" + [unique(arr)]); //两重for循环的去重
```

使用两层 for 循环，但是结果中有重复的项，NaN 和{}是无法去重的，而且占用内存高，速度慢

- 第二种方式：使用 set 去重

```javascript
function unique2(item) {
  let newSet = new Set(item);
  return item;
}
console.log("这是set去重" + [unique2(arr)]); //set用法的去重
```

此种方法也无法去重 NaN 和{}，但是速度相对较快

- 第三种方法：使用 map 去重

```javascript
function unique3(arr) {
  let map = new Map();
  let array = new Array();
  for (let i = 0; i < arr.length; i++) {
    if (!map.has(arr[i])) {
      map.set(arr[i], true);
      array.push(arr[i]);
    }
  }
  return { array, map };
}
console.log("map去重" + [unique3(arr)]);
```

此种方法无法去重{}但可以去重 NaN，而且由于键数组会一直维持对键对象的引用，所以容易发生内存泄露
